{"ast":null,"code":"import axios from 'axios';\nimport { setAlert } from './alert';\nimport { CLEAR_BOARD, GET_BOARDS, GET_BOARD, ADD_BOARD, BOARD_ERROR, RENAME_BOARD, GET_LIST, ADD_LIST, RENAME_LIST, ARCHIVE_LIST, GET_CARD, ADD_CARD, EDIT_CARD, MOVE_CARD, ARCHIVE_CARD, DELETE_CARD, GET_ACTIVITY, EDIT_CHECKLIST_ITEM, COMPLETE_CHECKLIST_ITEM, DELETE_CHECKLIST_ITEM } from './types';\nconst config = {\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}; // получаем борды\n\nexport const getBoards = () => async dispatch => {\n  try {\n    dispatch({\n      type: CLEAR_BOARD\n    });\n    const res = await axios.get('/api/boards');\n    dispatch({\n      type: GET_BOARDS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // получаем борды\n\nexport const getBoard = id => async dispatch => {\n  try {\n    const res = await axios.get(`/api/boards/${id}`);\n\n    if (res) {\n      axios.defaults.headers.common['boardId'] = id;\n    } else {\n      delete axios.defaults.headers.common['boardId'];\n    }\n\n    dispatch({\n      type: GET_BOARD,\n      payload: { ...res.data,\n        listObjects: [],\n        cardObjects: []\n      }\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // добавляем борд\n\nexport const addBoard = (formData, history) => async dispatch => {\n  try {\n    const body = JSON.stringify(formData);\n    const res = await axios.post('/api/boards', body, config);\n    dispatch({\n      type: ADD_BOARD,\n      payload: res.data\n    });\n    dispatch(setAlert('Board Created', 'success'));\n    history.push(`/board/${res.data._id}`);\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // ренейм борда\n\nexport const renameBoard = (boardId, formData) => async dispatch => {\n  try {\n    const res = await axios.patch(`/api/boards/rename/${boardId}`, formData, config);\n    dispatch({\n      type: RENAME_BOARD,\n      payload: res.data\n    });\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // получаем списки\n\nexport const getList = id => async dispatch => {\n  try {\n    const res = await axios.get(`/api/lists/${id}`);\n    dispatch({\n      type: GET_LIST,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //добавление списка\n\nexport const addList = formData => async dispatch => {\n  try {\n    const body = JSON.stringify(formData);\n    const res = await axios.post('/api/lists', body, config);\n    dispatch({\n      type: ADD_LIST,\n      payload: res.data\n    });\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // ренейм списка\n\nexport const renameList = (listId, formData) => async dispatch => {\n  try {\n    const res = await axios.patch(`/api/lists/rename/${listId}`, formData, config);\n    dispatch({\n      type: RENAME_LIST,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // архив списков\n\nexport const archiveList = (listId, archive) => async dispatch => {\n  try {\n    const res = await axios.patch(`/api/lists/archive/${archive}/${listId}`);\n    dispatch({\n      type: ARCHIVE_LIST,\n      payload: res.data\n    });\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // подгрузка карты\n\nexport const getCard = id => async dispatch => {\n  try {\n    const res = await axios.get(`/api/cards/${id}`);\n    dispatch({\n      type: GET_CARD,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // добавление карты\n\nexport const addCard = formData => async dispatch => {\n  try {\n    const body = JSON.stringify(formData);\n    const res = await axios.post('/api/cards', body, config);\n    dispatch({\n      type: ADD_CARD,\n      payload: res.data\n    });\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // редактирование карты\n\nexport const editCard = (cardId, formData) => async dispatch => {\n  try {\n    const res = await axios.patch(`/api/cards/edit/${cardId}`, formData, config);\n    dispatch({\n      type: EDIT_CARD,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // мув карт\n\nexport const moveCard = (cardId, formData) => async dispatch => {\n  try {\n    const body = JSON.stringify(formData);\n    const res = await axios.patch(`/api/cards/move/${cardId}`, body, config);\n    dispatch({\n      type: MOVE_CARD,\n      payload: res.data\n    });\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // архив карт\n\nexport const archiveCard = (cardId, archive) => async dispatch => {\n  try {\n    const res = await axios.patch(`/api/cards/archive/${archive}/${cardId}`);\n    dispatch({\n      type: ARCHIVE_CARD,\n      payload: res.data\n    });\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // удаление карты\n\nexport const deleteCard = (listId, cardId) => async dispatch => {\n  try {\n    const res = await axios.delete(`/api/cards/${listId}/${cardId}`);\n    dispatch({\n      type: DELETE_CARD,\n      payload: res.data\n    });\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const getActivity = () => async dispatch => {\n  try {\n    const boardId = axios.defaults.headers.common['boardId'];\n    const res = await axios.get(`/api/boards/activity/${boardId}`);\n    dispatch({\n      type: GET_ACTIVITY,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const editChecklistItem = (cardId, itemId, formData) => async dispatch => {\n  try {\n    const body = JSON.stringify(formData);\n    const res = await axios.patch(`/api/checklists/${cardId}/${itemId}`, body, config);\n    dispatch({\n      type: EDIT_CHECKLIST_ITEM,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const completeChecklistItem = formData => async dispatch => {\n  try {\n    const {\n      cardId,\n      complete,\n      itemId\n    } = formData;\n    const res = await axios.patch(`/api/checklists/${cardId}/${complete}/${itemId}`);\n    dispatch({\n      type: COMPLETE_CHECKLIST_ITEM,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const deleteChecklistItem = (cardId, itemId) => async dispatch => {\n  try {\n    const res = await axios.delete(`/api/checklists/${cardId}/${itemId}`);\n    dispatch({\n      type: DELETE_CHECKLIST_ITEM,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};","map":{"version":3,"sources":["D:/ПРОЕКТЫ УНИВЕР/finalProject/TrelloClone-master/client/src/actions/board.js"],"names":["axios","setAlert","CLEAR_BOARD","GET_BOARDS","GET_BOARD","ADD_BOARD","BOARD_ERROR","RENAME_BOARD","GET_LIST","ADD_LIST","RENAME_LIST","ARCHIVE_LIST","GET_CARD","ADD_CARD","EDIT_CARD","MOVE_CARD","ARCHIVE_CARD","DELETE_CARD","GET_ACTIVITY","EDIT_CHECKLIST_ITEM","COMPLETE_CHECKLIST_ITEM","DELETE_CHECKLIST_ITEM","config","headers","getBoards","dispatch","type","res","get","payload","data","err","msg","response","statusText","status","getBoard","id","defaults","common","listObjects","cardObjects","addBoard","formData","history","body","JSON","stringify","post","push","_id","renameBoard","boardId","patch","getActivity","getList","addList","renameList","listId","archiveList","archive","getCard","addCard","editCard","cardId","moveCard","archiveCard","deleteCard","delete","editChecklistItem","itemId","completeChecklistItem","complete","deleteChecklistItem"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { setAlert } from './alert';\nimport {\n  CLEAR_BOARD,\n  GET_BOARDS,\n  GET_BOARD,\n  ADD_BOARD,\n  BOARD_ERROR,\n  RENAME_BOARD,\n  GET_LIST,\n  ADD_LIST,\n  RENAME_LIST,\n  ARCHIVE_LIST,\n  GET_CARD,\n  ADD_CARD,\n  EDIT_CARD,\n  MOVE_CARD,\n  ARCHIVE_CARD,\n  DELETE_CARD,\n  GET_ACTIVITY,\n  EDIT_CHECKLIST_ITEM,\n  COMPLETE_CHECKLIST_ITEM,\n  DELETE_CHECKLIST_ITEM,\n} from './types';\n\nconst config = {\n  headers: {\n    'Content-Type': 'application/json',\n  },\n};\n\n// получаем борды\nexport const getBoards = () => async (dispatch) => {\n  try {\n    dispatch({ type: CLEAR_BOARD });\n\n    const res = await axios.get('/api/boards');\n\n    dispatch({\n      type: GET_BOARDS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// получаем борды\nexport const getBoard = (id) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/boards/${id}`);\n\n    if (res) {\n      axios.defaults.headers.common['boardId'] = id;\n    } else {\n      delete axios.defaults.headers.common['boardId'];\n    }\n\n    dispatch({\n      type: GET_BOARD,\n      payload: { ...res.data, listObjects: [], cardObjects: [] },\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// добавляем борд\nexport const addBoard = (formData, history) => async (dispatch) => {\n  try {\n    const body = JSON.stringify(formData);\n\n    const res = await axios.post('/api/boards', body, config);\n\n    dispatch({\n      type: ADD_BOARD,\n      payload: res.data,\n    });\n\n    dispatch(setAlert('Board Created', 'success'));\n\n    history.push(`/board/${res.data._id}`);\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// ренейм борда\nexport const renameBoard = (boardId, formData) => async (dispatch) => {\n  try {\n    const res = await axios.patch(`/api/boards/rename/${boardId}`, formData, config);\n\n    dispatch({\n      type: RENAME_BOARD,\n      payload: res.data,\n    });\n\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// получаем списки\nexport const getList = (id) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/lists/${id}`);\n\n    dispatch({\n      type: GET_LIST,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n//добавление списка\nexport const addList = (formData) => async (dispatch) => {\n  try {\n    const body = JSON.stringify(formData);\n\n    const res = await axios.post('/api/lists', body, config);\n\n    dispatch({\n      type: ADD_LIST,\n      payload: res.data,\n    });\n\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// ренейм списка\nexport const renameList = (listId, formData) => async (dispatch) => {\n  try {\n    const res = await axios.patch(`/api/lists/rename/${listId}`, formData, config);\n\n    dispatch({\n      type: RENAME_LIST,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// архив списков\nexport const archiveList = (listId, archive) => async (dispatch) => {\n  try {\n    const res = await axios.patch(`/api/lists/archive/${archive}/${listId}`);\n\n    dispatch({\n      type: ARCHIVE_LIST,\n      payload: res.data,\n    });\n\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// подгрузка карты\nexport const getCard = (id) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/cards/${id}`);\n\n    dispatch({\n      type: GET_CARD,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// добавление карты\nexport const addCard = (formData) => async (dispatch) => {\n  try {\n    const body = JSON.stringify(formData);\n\n    const res = await axios.post('/api/cards', body, config);\n\n    dispatch({\n      type: ADD_CARD,\n      payload: res.data,\n    });\n\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// редактирование карты\nexport const editCard = (cardId, formData) => async (dispatch) => {\n  try {\n    const res = await axios.patch(`/api/cards/edit/${cardId}`, formData, config);\n\n    dispatch({\n      type: EDIT_CARD,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// мув карт\nexport const moveCard = (cardId, formData) => async (dispatch) => {\n  try {\n    const body = JSON.stringify(formData);\n\n    const res = await axios.patch(`/api/cards/move/${cardId}`, body, config);\n\n    dispatch({\n      type: MOVE_CARD,\n      payload: res.data,\n    });\n\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// архив карт\nexport const archiveCard = (cardId, archive) => async (dispatch) => {\n  try {\n    const res = await axios.patch(`/api/cards/archive/${archive}/${cardId}`);\n\n    dispatch({\n      type: ARCHIVE_CARD,\n      payload: res.data,\n    });\n\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// удаление карты\nexport const deleteCard = (listId, cardId) => async (dispatch) => {\n  try {\n    const res = await axios.delete(`/api/cards/${listId}/${cardId}`);\n\n    dispatch({\n      type: DELETE_CARD,\n      payload: res.data,\n    });\n\n    dispatch(getActivity());\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\nexport const getActivity = () => async (dispatch) => {\n  try {\n    const boardId = axios.defaults.headers.common['boardId'];\n\n    const res = await axios.get(`/api/boards/activity/${boardId}`);\n\n    dispatch({\n      type: GET_ACTIVITY,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\nexport const editChecklistItem = (cardId, itemId, formData) => async (dispatch) => {\n  try {\n    const body = JSON.stringify(formData);\n\n    const res = await axios.patch(`/api/checklists/${cardId}/${itemId}`, body, config);\n\n    dispatch({\n      type: EDIT_CHECKLIST_ITEM,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\nexport const completeChecklistItem = (formData) => async (dispatch) => {\n  try {\n    const { cardId, complete, itemId } = formData;\n\n    const res = await axios.patch(`/api/checklists/${cardId}/${complete}/${itemId}`);\n\n    dispatch({\n      type: COMPLETE_CHECKLIST_ITEM,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\nexport const deleteChecklistItem = (cardId, itemId) => async (dispatch) => {\n  try {\n    const res = await axios.delete(`/api/checklists/${cardId}/${itemId}`);\n\n    dispatch({\n      type: DELETE_CHECKLIST_ITEM,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: BOARD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}